{
  "name": "MDS Formatter Lifecycle",
  "children": [
    {
      "name": "PHASE 1: Analysis and Specification",
      "type": "phase",
      "children": [
        {
          "name": "1.1 PDF Document Analysis",
          "type": "stage",
          "children": [
            {
              "name": "üìä FILE ANALYZER",
              "type": "agent",
              "children": [
                { "name": "Reads PDF document structure", "type": "task" },
                { "name": "Determines file type", "type": "task" },
                { "name": "Evaluates checklist elements", "type": "task" },
                { "name": "Cites specific evidence", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "JSON with fileType and direction", "type": "artifact" },
                { "name": "Missing fields list", "type": "artifact" },
                { "name": "Recommendations", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "1.2 Data File Analysis",
          "type": "stage",
          "children": [
            {
              "name": "üìä FILE ANALYZER",
              "type": "agent",
              "children": [
                { "name": "Identifies record types", "type": "task" },
                { "name": "Locates specific fields", "type": "task" },
                { "name": "Validates against checklist", "type": "task" },
                { "name": "Provides exact locations", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Record Types mapping", "type": "artifact" },
                { "name": "Field locations", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "1.3 JSON Specification Generation",
          "type": "stage",
          "children": [
            {
              "name": "üìä FILE ANALYZER",
              "type": "agent",
              "children": [
                { "name": "Detects file format", "type": "task" },
                { "name": "Identifies structure", "type": "task" },
                { "name": "Maps fields to MDS tables", "type": "task" },
                { "name": "Identifies required converters", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Complete JSON specification", "type": "artifact" },
                { "name": "File metadata", "type": "artifact" },
                { "name": "Identified cross-walks", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "PHASE 2: Code Generation",
      "type": "phase",
      "children": [
        {
          "name": "2.1 Knowledge Base Selection",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Reads JSON specification", "type": "task" },
                { "name": "Selects knowledge base", "type": "task" },
                { "name": "Reads corresponding templates", "type": "task" },
                { "name": "Understands host patterns", "type": "task" }
              ]
            },
            {
              "name": "Knowledge Bases",
              "type": "artifacts",
              "children": [
                { "name": "Meditech Templates", "type": "artifact" },
                { "name": "Epic Templates", "type": "artifact" },
                { "name": "Cerner Templates", "type": "artifact" },
                { "name": "Generic Templates", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "2.2 Main Classes Generation",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Generates main PriXXXX.cs", "type": "task" },
                { "name": "Implements required interfaces", "type": "task" },
                { "name": "Creates specific handlers", "type": "task" },
                { "name": "Includes cross-walks", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Main Converter Class", "type": "artifact" },
                { "name": "DemographicsHandler", "type": "artifact" },
                { "name": "TransactionHandler", "type": "artifact" },
                { "name": "InventoryHandler", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "2.3 Record Types Generation",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Generates FileHelpers classes", "type": "task" },
                { "name": "Applies correct attributes", "type": "task" },
                { "name": "Configures MDS converters", "type": "task" },
                { "name": "Maps fields to tables", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Record Type Classes", "type": "artifact" },
                { "name": "FileHelpers Attributes", "type": "artifact" },
                { "name": "Field Mappings", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "2.4 Project Generation",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Generates .csproj file", "type": "task" },
                { "name": "Configures references", "type": "task" },
                { "name": "Creates AssemblyInfo.cs", "type": "task" },
                { "name": "Configures packages.config", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Project File", "type": "artifact" },
                { "name": "Library References", "type": "artifact" },
                { "name": "Assembly Metadata", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "PHASE 3: Validation and Testing",
      "type": "phase",
      "children": [
        {
          "name": "3.1 Compilation Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Executes project build", "type": "task" },
                { "name": "Identifies compilation errors", "type": "task" },
                { "name": "Verifies using statements", "type": "task" },
                { "name": "Validates FileHelpers attributes", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Compilation Report", "type": "artifact" },
                { "name": "Error List", "type": "artifact" },
                { "name": "Code Warnings", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.2 Structure Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Verifies correct inheritance", "type": "task" },
                { "name": "Validates abstract methods", "type": "task" },
                { "name": "Confirms base handlers", "type": "task" },
                { "name": "Verifies field mappings", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Pattern Validation", "type": "artifact" },
                { "name": "Interface Verification", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.3 Database Schema Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Validates mappings against schema", "type": "task" },
                { "name": "Verifies required fields", "type": "task" },
                { "name": "Confirms compatible types", "type": "task" },
                { "name": "Validates maximum lengths", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Table Mapping", "type": "artifact" },
                { "name": "Type Validation", "type": "artifact" },
                { "name": "Missing Fields", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.4 Cross-Walks Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Verifies mapped codes", "type": "task" },
                { "name": "Confirms default handling", "type": "task" },
                { "name": "Validates insurance types", "type": "task" },
                { "name": "Verifies specific types", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Cross-Walks Coverage", "type": "artifact" },
                { "name": "Missing Codes", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.5 Test Generation and Execution",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Generates NUnit unit tests", "type": "task" },
                { "name": "Creates parsing tests", "type": "task" },
                { "name": "Includes conversion tests", "type": "task" },
                { "name": "Generates integration tests", "type": "task" },
                { "name": "Executes test suite", "type": "task" },
                { "name": "Analyzes test results", "type": "task" },
                { "name": "Identifies failing tests", "type": "task" },
                { "name": "Generates detailed validation report", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Complete Test Suite", "type": "artifact" },
                { "name": "Record Parsing Tests", "type": "artifact" },
                { "name": "Cross-Walks Tests", "type": "artifact" },
                { "name": "Integration Tests", "type": "artifact" },
                { "name": "Test Execution Results", "type": "artifact" },
                { "name": "Validation Report MD", "type": "artifact" },
                { "name": "Quality Summary", "type": "artifact" },
                { "name": "Issue Analysis Report", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.6 Interactive Issue Resolution",
          "type": "interactive",
          "children": [
            {
              "name": "üîÑ ISSUE RESOLVER",
              "type": "agent",
              "children": [
                { "name": "Presents test results to user", "type": "task" },
                { "name": "Allows custom prompt input", "type": "task" },
                { "name": "Asks user for fix confirmation", "type": "task" },
                { "name": "Triggers code regeneration if confirmed", "type": "task" },
                { "name": "Incorporates user feedback", "type": "task" },
                { "name": "Applies issue-specific corrections", "type": "task" },
                { "name": "Returns to Phase 2 for regeneration", "type": "task" },
                { "name": "Creates iterative improvement cycle", "type": "task" }
              ]
            },
            {
              "name": "Interactive Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "User Prompt Interface", "type": "artifact" },
                { "name": "Issue Resolution Log", "type": "artifact" },
                { "name": "User Feedback Integration", "type": "artifact" },
                { "name": "Iterative Improvement History", "type": "artifact" },
                { "name": "Fix Confirmation Dialog", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "PHASE 4: Delivery and Deployment",
      "type": "phase",
      "children": [
        {
          "name": "4.1 Final Packaging",
          "type": "stage",
          "children": [
            {
              "name": "Final Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "PriXXXX.cs - Main Converter", "type": "artifact" },
                { "name": "Record Types - FileHelpers Classes", "type": "artifact" },
                { "name": "Project File .csproj", "type": "artifact" },
                { "name": "AssemblyInfo.cs - Metadata", "type": "artifact" },
                { "name": "packages.config - NuGet", "type": "artifact" },
                { "name": "Complete Test Suite", "type": "artifact" },
                { "name": "Validation Report", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "4.2 Documentation",
          "type": "stage",
          "children": [
            {
              "name": "Implementation Documentation",
              "type": "artifacts",
              "children": [
                { "name": "Profile DB Configuration", "type": "artifact" },
                { "name": "File Patterns", "type": "artifact" },
                { "name": "Configured Cross-Walks", "type": "artifact" },
                { "name": "Field Mappings", "type": "artifact" },
                { "name": "Testing Instructions", "type": "artifact" },
                { "name": "Deployment Guide", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    }
  ]
}
{
  "name": "MDS Formatter Lifecycle",
  "children": [
    {
      "name": "PHASE 1: Analysis and Specification",
      "type": "phase",
      "children": [
        {
          "name": "1.1 PDF Document Analysis",
          "type": "stage",
          "children": [
            {
              "name": "üìä FILE ANALYZER",
              "type": "agent",
              "children": [
                { "name": "Reads PDF document structure", "type": "task" },
                { "name": "Determines file type", "type": "task" },
                { "name": "Evaluates checklist elements", "type": "task" },
                { "name": "Cites specific evidence", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "JSON with fileType and direction", "type": "artifact" },
                { "name": "Missing fields list", "type": "artifact" },
                { "name": "Recommendations", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "1.2 Data File Analysis",
          "type": "stage",
          "children": [
            {
              "name": "üìä FILE ANALYZER",
              "type": "agent",
              "children": [
                { "name": "Identifies record types", "type": "task" },
                { "name": "Locates specific fields", "type": "task" },
                { "name": "Validates against checklist", "type": "task" },
                { "name": "Provides exact locations", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Record Types mapping", "type": "artifact" },
                { "name": "Field locations", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "1.3 JSON Specification Generation",
          "type": "stage",
          "children": [
            {
              "name": "üìä FILE ANALYZER",
              "type": "agent",
              "children": [
                { "name": "Detects file format", "type": "task" },
                { "name": "Identifies structure", "type": "task" },
                { "name": "Maps fields to MDS tables", "type": "task" },
                { "name": "Identifies required converters", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Complete JSON specification", "type": "artifact" },
                { "name": "File metadata", "type": "artifact" },
                { "name": "Identified cross-walks", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "PHASE 2: Code Generation",
      "type": "phase",
      "children": [
        {
          "name": "2.1 Knowledge Base Selection",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Reads JSON specification", "type": "task" },
                { "name": "Selects knowledge base", "type": "task" },
                { "name": "Reads corresponding templates", "type": "task" },
                { "name": "Understands host patterns", "type": "task" }
              ]
            },
            {
              "name": "Knowledge Bases",
              "type": "artifacts",
              "children": [
                { "name": "Meditech Templates", "type": "artifact" },
                { "name": "Epic Templates", "type": "artifact" },
                { "name": "Cerner Templates", "type": "artifact" },
                { "name": "Generic Templates", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "2.2 Main Classes Generation",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Generates main PriXXXX.cs", "type": "task" },
                { "name": "Implements required interfaces", "type": "task" },
                { "name": "Creates specific handlers", "type": "task" },
                { "name": "Includes cross-walks", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Main Converter Class", "type": "artifact" },
                { "name": "DemographicsHandler", "type": "artifact" },
                { "name": "TransactionHandler", "type": "artifact" },
                { "name": "InventoryHandler", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "2.3 Record Types Generation",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Generates FileHelpers classes", "type": "task" },
                { "name": "Applies correct attributes", "type": "task" },
                { "name": "Configures MDS converters", "type": "task" },
                { "name": "Maps fields to tables", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Record Type Classes", "type": "artifact" },
                { "name": "FileHelpers Attributes", "type": "artifact" },
                { "name": "Field Mappings", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "2.4 Project Generation",
          "type": "stage",
          "children": [
            {
              "name": "‚öôÔ∏è CODE GENERATOR",
              "type": "agent",
              "children": [
                { "name": "Generates .csproj file", "type": "task" },
                { "name": "Configures references", "type": "task" },
                { "name": "Creates AssemblyInfo.cs", "type": "task" },
                { "name": "Configures packages.config", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Project File", "type": "artifact" },
                { "name": "Library References", "type": "artifact" },
                { "name": "Assembly Metadata", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "PHASE 3: Validation and Testing",
      "type": "phase",
      "children": [
        {
          "name": "3.1 Compilation Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Executes project build", "type": "task" },
                { "name": "Identifies compilation errors", "type": "task" },
                { "name": "Verifies using statements", "type": "task" },
                { "name": "Validates FileHelpers attributes", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Compilation Report", "type": "artifact" },
                { "name": "Error List", "type": "artifact" },
                { "name": "Code Warnings", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.2 Structure Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Verifies correct inheritance", "type": "task" },
                { "name": "Validates abstract methods", "type": "task" },
                { "name": "Confirms base handlers", "type": "task" },
                { "name": "Verifies field mappings", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Pattern Validation", "type": "artifact" },
                { "name": "Interface Verification", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.3 Database Schema Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Validates mappings against schema", "type": "task" },
                { "name": "Verifies required fields", "type": "task" },
                { "name": "Confirms compatible types", "type": "task" },
                { "name": "Validates maximum lengths", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Table Mapping", "type": "artifact" },
                { "name": "Type Validation", "type": "artifact" },
                { "name": "Missing Fields", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.4 Cross-Walks Validation",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Verifies mapped codes", "type": "task" },
                { "name": "Confirms default handling", "type": "task" },
                { "name": "Validates insurance types", "type": "task" },
                { "name": "Verifies specific types", "type": "task" }
              ]
            },
            {
              "name": "Validations",
              "type": "artifacts",
              "children": [
                { "name": "Cross-Walks Coverage", "type": "artifact" },
                { "name": "Missing Codes", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.5 Test Generation and Execution",
          "type": "stage",
          "children": [
            {
              "name": "‚úÖ CODE VALIDATOR",
              "type": "agent",
              "children": [
                { "name": "Generates NUnit unit tests", "type": "task" },
                { "name": "Creates parsing tests", "type": "task" },
                { "name": "Includes conversion tests", "type": "task" },
                { "name": "Generates integration tests", "type": "task" },
                { "name": "Executes test suite", "type": "task" },
                { "name": "Analyzes test results", "type": "task" },
                { "name": "Identifies failing tests", "type": "task" },
                { "name": "Generates detailed validation report", "type": "task" }
              ]
            },
            {
              "name": "Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "Complete Test Suite", "type": "artifact" },
                { "name": "Record Parsing Tests", "type": "artifact" },
                { "name": "Cross-Walks Tests", "type": "artifact" },
                { "name": "Integration Tests", "type": "artifact" },
                { "name": "Test Execution Results", "type": "artifact" },
                { "name": "Validation Report MD", "type": "artifact" },
                { "name": "Quality Summary", "type": "artifact" },
                { "name": "Issue Analysis Report", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "3.6 Interactive Issue Resolution",
          "type": "interactive",
          "children": [
            {
              "name": "üîÑ ISSUE RESOLVER",
              "type": "agent",
              "children": [
                { "name": "Presents test results to user", "type": "task" },
                { "name": "Allows custom prompt input", "type": "task" },
                { "name": "Asks user for fix confirmation", "type": "task" },
                { "name": "Triggers code regeneration if confirmed", "type": "task" },
                { "name": "Incorporates user feedback", "type": "task" },
                { "name": "Applies issue-specific corrections", "type": "task" },
                { "name": "Returns to Phase 2 for regeneration", "type": "task" },
                { "name": "Creates iterative improvement cycle", "type": "task" }
              ]
            },
            {
              "name": "Interactive Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "User Prompt Interface", "type": "artifact" },
                { "name": "Issue Resolution Log", "type": "artifact" },
                { "name": "User Feedback Integration", "type": "artifact" },
                { "name": "Iterative Improvement History", "type": "artifact" },
                { "name": "Fix Confirmation Dialog", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "PHASE 4: Delivery and Deployment",
      "type": "phase",
      "children": [
        {
          "name": "4.1 Final Packaging",
          "type": "stage",
          "children": [
            {
              "name": "Final Artifacts",
              "type": "artifacts",
              "children": [
                { "name": "PriXXXX.cs - Main Converter", "type": "artifact" },
                { "name": "Record Types - FileHelpers Classes", "type": "artifact" },
                { "name": "Project File .csproj", "type": "artifact" },
                { "name": "AssemblyInfo.cs - Metadata", "type": "artifact" },
                { "name": "packages.config - NuGet", "type": "artifact" },
                { "name": "Complete Test Suite", "type": "artifact" },
                { "name": "Validation Report", "type": "artifact" }
              ]
            }
          ]
        },
        {
          "name": "4.2 Documentation",
          "type": "stage",
          "children": [
            {
              "name": "Implementation Documentation",
              "type": "artifacts",
              "children": [
                { "name": "Profile DB Configuration", "type": "artifact" },
                { "name": "File Patterns", "type": "artifact" },
                { "name": "Configured Cross-Walks", "type": "artifact" },
                { "name": "Field Mappings", "type": "artifact" },
                { "name": "Testing Instructions", "type": "artifact" },
                { "name": "Deployment Guide", "type": "artifact" }
              ]
            }
          ]
        }
      ]
    }
  ]
}
